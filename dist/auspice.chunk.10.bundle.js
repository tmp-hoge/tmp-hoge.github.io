(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{712:function(t,e,a){"use strict";a.r(e);var n,s=a(53),o=a.n(s),i=a(54),r=a.n(i),c=a(55),l=a.n(c),d=a(56),u=a.n(d),p=a(57),f=a.n(p),h=a(3),m=a.n(h),v=a(41),b=a(2),y=a(92),g=a(155),x="#ffffbf",k=function(t){function e(t){var a;return o()(this,e),(a=l()(this,u()(e).call(this,t))).state={status:"loading",backgroundColor:x,minDate:void 0,maxDate:void 0,numTips:void 0,lastUpdated:void 0},a}return f()(e,t),r()(e,[{key:"componentDidMount",value:function(){var t=this;Object(g.fetchJSON)("".concat(Object(b.getServerAddress)(),"/getDataset?prefix=").concat(this.props.path)).then((function(e){var a=Object(y.a)({json:e,query:""});t.setState({status:"loaded",backgroundColor:"#91bfdb",minDate:a.controls.dateMin,maxDate:a.controls.dateMax,numTips:a.metadata.mainTreeNumTips,lastUpdated:e.meta.updated})})).catch((function(e){console.warn("Failed to fetch or process JSONs for",t.props.path,"ERR:",e.type),console.log(e),t.setState({status:"Error fetching / processing JSONs",backgroundColor:"#fc8d59"})}))}},{key:"render",value:function(){var t={flex:"0 0 15%"};return m.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",backgroundColor:this.state.backgroundColor,margin:"10px 10px 10px 10px",textAlign:"center"}},m.a.createElement("h3",{style:t},this.props.path),m.a.createElement("h3",{style:t},this.state.status),"loaded"===this.state.status?[m.a.createElement("h3",{style:{flex:"0 0 30%"},key:"tips"},"".concat(this.state.numTips," tips span ").concat(this.state.minDate," to ").concat(this.state.maxDate)),m.a.createElement("h3",{style:t,key:"updated"},"Last updated: ".concat(this.state.lastUpdated))]:null)}}]),e}(m.a.Component),w=a(95),E=Object(v.b)()(n=function(t){function e(t){var a;return o()(this,e),(a=l()(this,u()(e).call(this,t))).state={available:void 0},a}return f()(e,t),r()(e,[{key:"componentDidMount",value:function(){var t=this;Object(g.fetchJSON)("".concat(Object(b.getServerAddress)(),"/getAvailable?prefix=").concat(window.location.pathname)).then((function(e){t.setState({available:e})})).catch((function(e){console.warn(e),t.props.dispatch(Object(w.d)("Error getting available datasets"))}))}},{key:"renderHeader",value:function(){return m.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",minHeight:"50px"}},m.a.createElement("div",{style:{flex:1}}),m.a.createElement("div",{style:{fontSize:18}},'Status of available datasets for URL prefix "'.concat(window.location.pathname,'"')),m.a.createElement("div",{style:{flex:1}}))}},{key:"render",value:function(){return this.state.available&&this.state.available.datasets?m.a.createElement("div",{style:{maxWidth:1020,marginLeft:"auto",marginRight:"auto"}},this.renderHeader(),this.state.available.datasets.map((function(t){return m.a.createElement(k,{key:t.request,path:t.request})}))):null}}]),e}(m.a.Component))||n;e.default=E}}]);
//# sourceMappingURL=auspice.chunk.10.bundle.js.map